##########################################
##                                      ##
##  AUTOGENERATED CODE -- DO NOT EDIT!  ##
##                                      ##
##########################################

DbEndpoints "DB Endpoints Specification" [package="dbendpoints", ~DB, db_type="postgres"]:
    @contact.name = "Client Login"
    @contact.url = "https://client.sample.com/"
    @version = "1.5.0"

    /company/location:
        GET ?deptLoc=string&companyName=string?:
            | Only returns data in readonly mode. Cannot update entity without
            | associated process(taskId).
            @sql_retrieveByCompanyAndLocation = "select company.abnnumber, company.companyname, company.companycountry, department.deptid, department.deptname, department.deptloc from company JOIN department ON company.abnnumber=department.abn WHERE department.deptloc=? and company.companyname=? order by company.abnnumber;"
            return ok <: GetCompanyLocationResponse

    #---------------------------------------------------------------------------
    # definitions

    !type GetCompanyLocationResponse:
        companies <: sequence of Company:
            @json_tag = "companies"
        message <: string:
            @json_tag = "message"

    !type Company:
        abnNumber <: int:
            @json_tag = "abnNumber"
        companyName <: string:
            @json_tag = "companyName"
        companyCountry <: string:
            @json_tag = "companyCountry"
        departments <: sequence of Department:
            @json_tag = "departments"

    !type Department:
        deptId <: int:
            @json_tag = "deptId"
        deptName <: string:
            @json_tag = "deptName"
        deptLoc <: string:
            @json_tag = "deptLoc"
